<html lang="en">
<head>
<title>March 2012</title>
 <meta name="keywords" content="CowTalk" />
 <meta name="description" content="CowTalk - Moo-able Type for Cowtowncoder.com" />

 
<style type="text/css">
@import url('../stylesheets/iconic/iconic-style.css');

/************** REMOVE THIS TO UNHIDE THE BLOGGER NAVBAR ****************
**/       #b-navbar {height:0px;visibility:hidden;display:none}       /**
*************************************************************************

body {margin-top: 32px !important} 
*/

/* Let's not hide list markers... */
UL { list-style-type: disc; margin: 6; }
/* Also, better display for code: */
pre { overflow: auto; }

</style>
<script type="text/javascript" src="http://googlelite.free.fr/player.js"></script>
<script type="text/javascript">
window.google_analytics_uacct = "UA-140287-10";
</script>
</head>
<body class="layout-two-column-right">
	<div id="container">
		<div id="container-inner" class="pkg">
<!-- banner -->
<div id="banner">
	<div id="banner-inner" class="pkg">
		<h1 id="banner-header"><a href="http://www.cowtowncoder.com/blog/blog.html" accesskey="1">CowTalk</a></h1>
		<h2 id="banner-description">Moo-able Type for Cowtowncoder.com</h2>
	</div>
</div>
			<div id="pagebody">
				<div id="pagebody-inner" class="pkg">
					<div id="alpha">
						<div id="alpha-inner" class="pkg">
<!-- entry -->
   
	<h2 class="date-header">Thursday, March 29, 2012 </h2>

<div class="entry" id="post-468">
			<h3 class="entry-header">Jackson 2.0: CSV-compatible as well</h3>
	
	<div class="entry-content">
		<div class="entry-body">
		
			<p><p>
      (note: for general information on Jackson 2.0.0, see the previous 
      article, &quot;<a href="http://www.cowtowncoder.com/blog/archives/2012/03/entry_466.html">Jackson 
      2.0.0 released</a>&quot;; or, for XML support, see &quot;<a href="http://www.cowtowncoder.com/blog/archives/2012/03/entry_467.html">Not 
      just for JSON any more -- also in XML</a>&quot;)
    </p>
    <p>
      Now that I talked about XML, it is good to follow up with another 
      commonly used, if somewhat humble data format: Comma-Separated Values 
      (&quot;CSV&quot; for friends and foes).
    </p>
    <p>
      As you may have guessed... Jackson 2.0 supports CSV as well, via <a href="https://github.com/FasterXML/jackson-dataformat-csv">jackson-dataformat-csv</a> 
      project, hosted at GitHub
    </p>
    <p>
      For attention-span-challenged individuals, checkout <a href="https://github.com/FasterXML/jackson-dataformat-csv">Project 
      Page</a>: it contains tutorial that can get you started right away.<br>For 
      others, let's have a slight detour talking through design, so that 
      additional components involved make some sense.
    </p>
    <p>
      <b>1. In the beginning there was a prototype</b>
    </p>
    <p>
      After completing Jackson 1.8, I got to one of my wishlist projects: that 
      of being able to process CSV using Jackson. The reason for this is 
      simple: while simplistic and under-specified, CSV is very commonly used 
      for exchanging tabular datasets.<br>In fact, it (in variant forms, 
      &quot;pipe-delimited&quot;, &quot;tab-delimited&quot; etc) may well be the most widely used 
      data format for things like Map/Reduce (Hadoop) jobs, analytics 
      processing pipelines, and all kinds of scripting systems running on Unix.
    </p>
    <p>
      <b>2. Problem: not &quot;self-describing&quot;</b>
    </p>
    <p>
      One immediate challenge is that of lacking information on meaning of 
      data, beyond basic division between rows and columns for data. Compared 
      to JSON, for example, one neither necessarily knows which &quot;property&quot; a 
      value is for, nor actual expected type of the value. All you might know 
      is that row 6 has 12 values, expressed as Strings that look vaguely like 
      numbers or booleans.
    </p>
    <p>
      But then again, sometimes you do have name mapping as the first row of 
      the document: if so, it represents column names. You still don't have 
      datatype declarations but at least it is a start.
    </p>
    <p>
      Ideally any library that supports CSV reading and writing should support 
      different commonly used variations; from optional header line (mentioned 
      above) to different separators (while name implies just comma, other 
      characters are commonly used, such as tabs and pipe symbol) and possibly 
      quoting/escaping mechanisms (some variants allow backslash escaping).<br>And 
      finally, it would be nice to expose both &quot;raw&quot; sequence and high-level 
      data-binding to/from POJOs, similar to how Jackson works with JSON.
    </p>
    <p>
      <b>3. So expose basic &quot;Schema&quot; abstraction</b>
    </p>
    <p>
      To unify different ways of defining mapping between property names and 
      columns, Jackson now supports general concept of a Schema. While 
      interface itself is little more than a tag interface (to make it 
      possible to pass an opaque type-specific Schema instance through 
      factories), data-format specific subtypes can and do extend 
      functionality as appropriate.
    </p>
    <p>
      In case of CSV, Schema (use of which is optional -- more on &quot;raw&quot; access 
      later on) defines:
    </p>
    <ol>
      <li>
        Names of columns, in order -- this is mandatory
      </li>
      <li>
        Scalar datatypes columns have: these are coarse types, and this 
        information is optional
      </li>
    </ol>
    <p>
      Note that the reason that type information is strictly optional is that 
      when it is missing, all data is exposed as Strings; and Jackson 
      databinding has extensive set of standard coercions, meaning that things 
      like numbers are conveniently converted as necessary. Specifying type 
      information, then, can help in validating contents and possibly 
      improving performance.
    </p>
    <p>
      <b>4. Constructing &quot;CSV Schema&quot; objects</b><br>
    </p>
    <p>
      How does one get access to these Schema objects? Two ways: build 
      manually, or construct from a type (Class).
    </p>
    <p>
      Let's start with latter, using same POJO type as with earlier XML 
      example:
    </p>
    <hr>
    

    <pre>  public enum Gender { MALE, FEMALE };
  // Note: MUST ensure a stable ordering; either alphabetic, or explicit
  // (JDK does not guarantee order of properties)
  @JsonPropertyOrder({ &quot;name&quot;, &quot;gender&quot;, &quot;verified&quot;, &quot;image&quot; })
   public class User {
   public Gender gender;
   public String name;
   public boolean verified;
   public byte[] image;
  }<br>  // note: we could use std ObjectMapper; but CsvMapper has convenience methods
  CsvMapper mapper = new CsvMapper();
  CsvSchema schema = mapper.schemaFor(User.class);</pre>
    <hr>
    

    <p>
      or, if we wanted to do this manually, we would do (omitting types, for 
      now):
    </p>
    <hr>
    

    <pre>  CsvSchema schema = CsvSchema.builder()<br>   .addColumn(&quot;name&quot;) 
   .addColumn(&quot;gender&quot;)<br>   .addColumn(&quot;verified&quot;)<br>   .addColumn(&quot;image&quot;)<br>   .build();</pre>
    <hr>
    

    <p>
      And there is, in fact, the third source: reading it from the header 
      line. I will leave that as an exercise for readers (check the project 
      home page).
    </p>
    <p>
      Usage is identical, regardless of the source. Schemas can be used for 
      both reading and writing; for writing they are only mandatory if output 
      of the header line is requested.
    </p>
    <p>
      <b>5. And databinding we go!</b>
    </p>
    <p>
      Let's consider the case of reading CSV data from file called 
      &quot;Users.csv&quot;, entry by entry. Further, we assume there is no header row 
      to use or skip (if there is, the first entry would be bound from that -- 
      there is no way for parser auto-detect a header row, since its structure 
      is no different from rest of data).
    </p>
    <p>
      One way to do this would be:
    </p>
    <hr>
    

    <pre>  MappingIterator&lt;Entry&gt; it = mapper<br>    .reader(User.class)<br>    .with(schema)<br>    .readValues(new File(&quot;Users.csv&quot;());<br>  List&lt;User&gt; users = new ArrayList&lt;User&gt;();<br>  while (it.hasNextValue()) {<br>    User user = it.nextValue();<br>    // do something?<br>    list.add(user);<br>  }<br>  // done! (FileReader gets closed when we hit the end etc)</pre>
    <hr>
    

    <p>
      Assuming we wanted instead to write CSV, we would use something like 
      this. Note that here we DO want to add the explicit header line for fun:
    </p>
    <hr>
    

    <pre>  // let's force use of Unix linefeeds:<br>  ObjectWriter writer = mapper<br>    .writer(schema.withLineSeparator(&quot;\n&quot;));<br>  writer.writeValue(new File(&quot;ModifiedUsers.csv&quot;), users);</pre>
    <hr>
    one feature that we took advantage of here is that CSV generator basically 
    ignores any and all array markers; meaning that there is no difference 
    whether we try writing an array, List or just basic sequence of objects.

    <p>
      <b>6. Data-binding (POJOs) vs &quot;Raw&quot; access</b>
    </p>
    <p>
      Although full data binding is convenient, sometimes we might just want 
      to deal with a sequence of arrays with String values. You can think of 
      this as an alternative to &quot;JSON Tree Model&quot;; an untyped primitive but 
      very flexible data structure.
    </p>
    <p>
      All you really have to do is to omit definition of the schema (which 
      will then change observe token sequence); and make sure not to enable 
      handling of header line<br>For this, code to use (for reading) looks 
      something like:
    </p>
    <hr>
    

    <pre>  CsvMapper mapper = new CsvMapper();<br>  MappingIterator&lt;Object[]&gt; it = mapper<br>   .reader(Object[].class)<br>   .readValues(
   &quot;1,null\nfoobar\n7,true\n&quot;);<br>  Object[] data = it.nextValue();<br>  assertEquals(2, data.length);<br>  // since we have no schema, everything exposed as Strings, really<br>  assertEquals(&quot;1&quot;, data[0]);<br>  assertEquals(&quot;null&quot;, data[1]);</pre>
    <hr>
    

    <p>
      Finally, note that use of raw entries is the only way to deal with data 
      that has arbitrary number of columns (unless you just want to add 
      maximum number of bogus columns -- it is ok to have less data than 
      columns).
    </p>
    <p>
      <b>7. Sequences vs Arrays</b>
    </p>
    <p>
      One potential inconvenience with access is that by default CSV is 
      exposed as a sequence of &quot;JSON&quot; Objects. This works if you want to read 
      entries one by one.
    </p>
    <p>
      But you can also configure parser to expose data as an Array of Objects, 
      to make it convenient to read all the data as a Java array or Collection 
      (as mentioned earlier, this is NOT required when writing data, as array 
      markers have no effect on generation).
    </p>
    <p>
      I will not go into details, beyond pointing out that the configuration 
      to enable addition &quot;virtual array wrapper&quot; is:
    </p>
    <hr>
    

    <pre>mapper.ensable(CsvParser.Feature.WRAP_AS_ARRAY);</pre>
    <hr>
    and after this you can bind entries as if they came in as an array: both 
    &quot;raw&quot; ones (Object[][]) and typed (List&lt;User&gt; and so on).

    <p>
      <b>8. Limitations</b>
    </p>
    <p>
      Compared to JSON, CSV is more limited data format. So does this limit 
      usage of Jackson CSV reader?
    </p>
    <p>
      Yes. The main limitation is that column values need to essentially be 
      scalar values (strings, numbers, booleans). If you do need more 
      structured types, you will need to work around this, usually by adding 
      custom serializers and deserializers: these can then convert structured 
      types into scalar values and back. However, if you end up doing lots of 
      this kind of work, you may consider whether CSV is the right format for 
      you.
    </p>
    <p>
      <b>9. Test Drive!</b>
    </p>
    <p>
      As with all the other JSON alternatives, CSV extension is really looking 
      forward to more users! Let us know how things work.
    </p></p>

	<p class="entry-footer">
		<span class="post-footers">Posted by Tatu Saloranta  at Thursday, March 29, 2012 7:37 PM </span>
<br />	Categories: <a href="http://www.cowtowncoder.com/blog/archives/cat_java.html">Java</a>, <a href="http://www.cowtowncoder.com/blog/archives/cat_opensource.html">Open Source</a>
<br />
<span class="separator">|</span> <a class="permalink" href="http://www.cowtowncoder.com/blog/archives/2012/03/entry_468.html">Permalink</a>
<span class="separator">|</span><a href="http://www.cowtowncoder.com/blog/archives/2012/03/entry_468.html#disqus_thread">Comments</a>
<BlogItemBacklinksEnabled> | <a href="http://www.cowtowncoder.com/blog/archives/2012/03/entry_468.html#links">links to this post</a></BlogItleaemBacklinksEnabled> 

	</p>
		</div>
	</div>
</div>
   
	<h2 class="date-header">Tuesday, March 27, 2012 </h2>

<div class="entry" id="post-467">
			<h3 class="entry-header">Jackson 2.0: now with XML, too!</h3>
	
	<div class="entry-content">
		<div class="entry-body">
		
			<p><p>
      (note: for general information on Jackson 2.0.0, see the previous 
      article, &quot;<a href="http://www.cowtowncoder.com/blog/archives/2012/03/entry_466.html">Jackson 
      2.0.0 released</a>&quot;)
    </p>
    <p>
      While Jackson is most well-known as a JSON processor, its data-binding 
      functionality is not tied to JSON format.<br>Because of this, there have 
      been developments to extend support for XML and related things with 
      Jackson; and in fact support for using JAXB (Java Api for Xml Binding) 
      annotations has been included as an optional add-on since earliest 
      official Jackson versions.
    </p>
    <p>
      But Jackson 2.0.0 significantly increases the scope of XML-related 
      functionality.
    </p>
    <p>
      <b>1. Improvements to JAXB annotation support</b>
    </p>
    <p>
      Optional support for using JAXB annotations (package 'javax.xml.bind' in 
      JDK) became its own <a href="https://github.com/FasterXML/jackson-module-jaxb-annotations">Github 
      project</a> with 2.0.<br>
    </p>
    <p>
      Functionality is provided by <i>com.fasterxml.jackson.databind.AnnotationIntrospector</i> 
      implementation '<b>c<i>om.fasterxml.jackson.module.jaxb.JaxbAnnotationIntrospector</i></b>', 
      which can be used in addition to (or instead of) the standard 
      'com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector'.
    </p>
    <p>
      But beyond becoming main-level project of its own, 2.0 adds to already 
      extensive support for JAXB annotations by:
    </p>
    <ul>
      <li>
        Making <i>@XmlJavaTypeAdapter</i> work for Lists and Maps
      </li>
      <li>
        Adding support for <b><i>@XmlID</i></b> and <b><i>@XmlIDREF</i></b> -- 
        this was possible due to addition of Object Identity feature in core 
        Jackson databind -- which basically means that Object Graphs (even 
        cyclic ones) can be supported even if only using JAXB annotations.
      </li>
    </ul>
    <p>
      the second feature (@XmlID, @XmlIDREF) has been the number one request 
      for JAXB annotation support, and we are happy that it now works.<br>Canonical 
      example of using this feature would be:
    </p>
    <hr>
    

    <pre>    @XmlAccessorType(XmlAccessType.FIELD)
    public class Employee<br>    {
        @XmlAttribute
        @XmlID
        protected String id;
     
        @XmlAttribute
        protected String name;
     
        @XmlIDREF
        protected Employee manager;
     
        @XmlElement(name=&quot;report&quot;)
        @XmlIDREF
        protected List&lt;Employee&gt; reports;
     
        public Employee() {
            reports = new ArrayList&lt;Employee&gt;();
        }
    }</pre>
    <hr>
    

    <p>
      where entries would be serialized such that the first reference to an 
      Employee is serialized fully, and later references use value of 'id' 
      field; conversely, when reading XML back, references get re-created 
      using id values.
    </p>
    <p>
      <b>2. XML databinding</b>
    </p>
    <p>
      Support for JAXB annotations may be useful when there is need to provide 
      both JSON and XML representations of data. But to actually produce XML, 
      you need to use something like JAXB or XStream.
    </p>
    <p>
      Or do you?
    </p>
    <p>
      One of experimental new projects that Jackson project started a while 
      ago was something called &quot;jackson-xml-databind&quot;.<br>After 
      being developed for a while along with Jackson 1.8 and 1.9, it 
      eventually morphed into project &quot;<a href="https://github.com/FasterXML/jackson-dataformat-xml">jackson-dataformat-xml</a>&quot;, 
      hosted at Github.
    </p>
    <p>
      With 2.0.0 we have further improved functionality, added tests; and also 
      worked with developers who have actually used this for production 
      systems.<br>This means that the module is now considered full supported 
      and no longer an experimental add-on.
    </p>
    <p>
      So let's have a look at how to use XML databinding.
    </p>
    <p>
      The very first thing is to create the mapper object. Here we must use a 
      specific sub-class, XmlMapper
    </p>
    <pre>  XmlMapper xmlMapper = new XmlMapper();<br>  // internally will use an XmlFactory for parsers, generators</pre>
    <p>
      (note: this step differs from some other data formats, like Smile, which 
      only require use of custom JsonFactory sub-class, and can work with 
      default ObjectMapper -- XML is bit trickier to support and thus we need 
      to override some aspects of ObjectMapper)
    </p>
    <p>
      With a mapper at hand, we can do serialization like so:
    </p>
    <hr>
    

    <pre>  public enum Gender { MALE, FEMALE };
  public class User {
    public Gender gender;
    public String name;
    public boolean verified;
    public byte[] image;
  }

  User user = new User(); // and configure
  String xml = xmlMapper.writeValueAsString(user);</pre>
    <hr>
    and get XML like:<hr>

    <pre>  &lt;User&gt;<br>    &lt;gender&gt;MALE&lt;/gender&gt;<br>    &lt;name&gt;Bob&lt;/name&gt;<br>    &lt;verified&gt;true&lt;/verified&gt;<br>    &lt;image&gt;BARWJRRWRIWRKF01FK=&lt;/image&gt;<br>  &lt;/User&gt;</pre>
    <p>
      which we could read back as a POJO:
    </p>
    <pre>  User userResult = xmlMapper.readValue(xml, User.class);</pre>
    <p>
      But beyond basics, we can obviously use annotations for customizing some 
      aspects, like element/attribute distinction, use of namespaces:
    </p>
    <hr>
    

    <pre>  JacksonXmlRootElement(&quot;custUser&quot;)<br>  public class CustomUser {
    @JacksonXmlProperty(namespace=&quot;http://test&quot;)
    public Gender gender;<br>    @JacksonXmlProperty(localname=&quot;myName&quot;)
    public String name;

    @JacksonXmlProperty(isAttribute=true)  
    public boolean verified;
    public byte[] image;
  }
  
  // gives XML like:<br>  &lt;custUser verified=&quot;true&quot;&gt;<br>     &lt;ns:gender xmlns:ns=&quot;http://test&quot;&gt;MALE&lt;/gender&gt;<br>     &lt;myName&gt;Bob&lt;/myName&gt;<br>     &lt;image&gt;BARWJRRWRIWRKF01FK=&lt;/image&gt;<br>   &lt;/custUser&gt;</pre>
    <hr>
    

    <p>
      Apart from this, all standard Jackson databinding features should work: 
      polymorphic type handling, object identity for full object graphs (new 
      with 2.0); even value conversions and base64 encoding!
    </p>
    <p>
      <b>3. Jackson-based XML serialization for JAX-RS (&quot;move over JAXB!&quot;)</b>
    </p>
    <p>
      So far so good: we can produce and consume XML using powerful Jackson 
      databinding. But the latest platform-level improvement in Java lang is 
      the use of JAX-RS implementations like Jersey. Wouldn't it be nice to 
      make Jersey use Jackson for both JSON <b>and</b> XML? That would remove 
      one previously necessary add-on library (like JAXB).
    </p>
    <p>
      We think so too, which is why we created &quot;<a href="https://github.com/FasterXML/jackson-jaxrs-xml-provider">jackson-jaxrs-xml-provider</a>&quot; 
      project, which is the sibling of existing &quot;<a href="https://github.com/FasterXML/jackson-jaxrs-json-provider">jackson-jaxrs-json-provider</a>&quot; 
      project.<br>As with the older JSON provider, by registering this 
      provider you will get automatic data-binding to and from XML, using 
      Jackson XML data handler explained in the previous section.
    </p>
    <p>
      It is of course worth noting that Jersey (and RESTeasy, CXF) already 
      provide XML databinding using other libraries (usually JAXB), so use of 
      this provider is optional.<br>So why advocate use of Jackson-based 
      variant? One benefits is good performance -- a bit better than JAXB, and 
      much faster than XStream, as per <a href="https://github.com/eishay/jvm-serializers">jvm-serializer</a> 
      benchmark (performance is limited by the underlying XML Stax processor 
      -- but Aalto is wicked fast, not much slower than Jackson).<br>But more 
      important is simplification of configuration and code: it is all 
      Jackson, so annotations can be shared, and all data-binding power can be 
      used for both representations.<br>
    </p>
    <p>
      It is most likely that you find this provider useful if the focus has 
      been on producing/consuming JSON, and XML is being added as a secondary 
      addition. If so, this extension is a natural fit.
    </p>
    <p>
      <b>4. Caveat Emptor</b>
    </p>
    <p>
      <b>4.1 Asymmetric: &quot;POJO first&quot;</b>
    </p>
    <p>
      It is worth noting that the main supported use case is that of starting 
      with Java Objects, serializing them as XML, and reading such 
      serialization back as Objects.<br>And the explicit goal is that ideally 
      all POJOs that can be serialized as JSON should also be serializable 
      (and deserializable back into same Objects) as XML.<br>
    </p>
    <p>
      But there is no guarantee that any given XML can be mapped to a Java 
      Object: some can be, but not all.
    </p>
    <p>
      This is mostly due to complexity of XML, and its inherent 
      incompatibility with Object models (&quot;Object/XML impedance mismatch&quot;): 
      for example, there is no counterpart to XML mixed content in Object 
      world. Arbitrary sequences of XML elements are not necessarily 
      supported; and in some cases explicit nesting must be used (as is the 
      case with Lists, arrays).
    </p>
    <p>
      This means that if you do start with XML, you need to be prepared for 
      possibility that some changes are needed to format, or you need 
      additional steps for deserialization to clean up or transform structures.
    </p>
    <p>
      <b>4.2 No XML Schema support, mixed content</b>
    </p>
    <p>
      Jackson XML functionality specifically has zero support for XML Schema. 
      Although we may work in this area, and perhaps help in using XML Schemas 
      for some tasks, your best bet currently is to use tools like XJC from 
      JAXB project: it can generate POJOs from XML Schema.
    </p>
    <p>
      Mixed content is also out of scope, explicitly. There is no natural 
      representation for it; and it seems pointless to try to fall back to 
      XML-specific representations (like DOM trees). If you need support for 
      &quot;XMLisms&quot;, you need to look for XML-centric tools.
    </p>
    <p>
      <b>4.3 Some root values problematic: Map, List</b>
    </p>
    <p>
      Although we try to support all Java Object types, there are some 
      unresolved issues with &quot;root values&quot;, values that are not referenced via 
      POJO properties but are the starting point of 
      serialization/deserialization. Maps are especially tricky, and we 
      recommend that when using Maps and Lists, you use a wrapper root object, 
      which then references Map(s) and/or List(s).
    </p>
    <p>
      (it is worth noting that JAXB, too, has issues with Map handling in 
      general: XML and Maps do not mesh particularly well, unlike JSON and 
      Maps).
    </p>
    <p>
      <b>4.4 JsonNode not as useful as with JSON</b>
    </p>
    <p>
      Finally, Jackson Tree Model, as expressed by JsonNodes, does not 
      necessarily work well with XML either. Problem here is partially general 
      challenges of dealing with Maps (see above); but there is the additional 
      problem that whereas POJO-based data binder can hide some of 
      work-arounds, this is not the case with JsonNode.
    </p>
    <p>
      So: you can deserialize all kinds of XML as JsonNodes; and you can 
      serialize all kinds of JsonNodes as XML, but round-tripping might not 
      work. If tree model is your thing, you may be better off using 
      XML-specific tree models such as XOM, DOM4J, JDOM or plain old DOM.
    </p>
    <p>
      <b>5. Come and help us make it Even Better!</b>
    </p>
    <p>
      At this point we believe that Jackson provides a nice alternative for 
      existing XML producing/consuming toolkits. But what will really make it 
      the first-class package is Your Help -- with increased usage we can 
      improve quality and further extend usability, ergonomics and design.
    </p>
    <p>
      So if you are at all interested in dealing with XML, consider trying out 
      Jackson XML functionality!
    </p></p>

	<p class="entry-footer">
		<span class="post-footers">Posted by Tatu Saloranta  at Tuesday, March 27, 2012 9:53 PM </span>
<br />	Categories: <a href="http://www.cowtowncoder.com/blog/archives/cat_java.html">Java</a>, <a href="http://www.cowtowncoder.com/blog/archives/cat_json.html">JSON</a>, <a href="http://www.cowtowncoder.com/blog/archives/cat_xmlstax.html">XML/Stax</a>
<br />
<span class="separator">|</span> <a class="permalink" href="http://www.cowtowncoder.com/blog/archives/2012/03/entry_467.html">Permalink</a>
<span class="separator">|</span><a href="http://www.cowtowncoder.com/blog/archives/2012/03/entry_467.html#disqus_thread">Comments</a>
<BlogItemBacklinksEnabled> | <a href="http://www.cowtowncoder.com/blog/archives/2012/03/entry_467.html#links">links to this post</a></BlogItleaemBacklinksEnabled> 

	</p>
		</div>
	</div>
</div>
   
	<h2 class="date-header">Monday, March 26, 2012 </h2>

<div class="entry" id="post-466">
			<h3 class="entry-header">Jackson 2.0.0 released: going GitHub, handling cyclic graphs, builder style...</h3>
	
	<div class="entry-content">
		<div class="entry-body">
		
			<p><p>
      After furious weeks of coding and testing, the first major version of 
      upgrade of Jackson is here: 2.0 was just released, and available (from <a href="http://wiki.fasterxml.com/JacksonDownload">Download</a> 
      page, for example)
    </p>
    <p>
      <b>1. Major Upgrade? </b>
    </p>
    <p>
      So how does this upgrade differ from &quot;minor&quot; upgrades (like, from 1.8 to 
      1.9)? Difference is not based on amount of new functionality introduced 
      -- most Jackson 'minor' releases have contained as much new stuff as 
      major releases of other projects -- although 2.0 does indeed pack up 
      lots of goodies.
    </p>
    <p>
      Rather, major version bump indicates that code that uses Jackson 1.x is 
      neither backwards nor forwards compatible with Jackson 2.0.<br>That is, 
      you can not just replace 1.9 jars with 2.0 and hope that things work. 
      They will not.
    </p>
    <p>
      Why not? 2.0 code differs from 1.x with respect to packaging, such that:
    </p>
    <ol>
      <li>
        Java package used is &quot;com.fasterxml.jackson&quot; (instead of 
        &quot;org.codehaus.jackson&quot;)
      </li>
      <li>
        Maven group ids begin with &quot;com.fasterxml.jackson&quot; (instead of 
        &quot;org.codehaus.jackson&quot;)
      </li>
      <li>
        Maven artifact ids have change a bit too (core has been split into 
        &quot;core&quot; and &quot;annotations&quot;, for example)
      </li>
    </ol>
    <p>
      These are actually not big changes in and of itself: you just need to 
      change Maven dependencies, and for Java package, change import 
      statements. While some amount of work, these are mechanical changes. But 
      it does mean that upgrade is not basic plug-n-play operation.
    </p>
    <p>
      In addition, some classes have moved within package hierarchy, to better 
      align functional areas. Some have been refactored or carved (most 
      notably, <b>SerializationConfig.Feature</b> is now simply <b><i>SerializationFeature</i></b>, 
      and <b>DeserializationConfig.Feature </b>is now <b><i>DeserializationFeature</i></b>). 
      Most cases of types moving should be easy to solve with IDEs, but we 
      will also try to collect some sort of upgrade guide.
    </p>
    <p>
      For more details on packaging changes, check out &quot;<a href="wiki.fasterxml.com/JacksonRelease20">Jackson 
      2.0 release notes</a>&quot; page.
    </p>
    <p>
      <b>1.1 Why changes to package names?</b>
    </p>
    <p>
      The reason for choosing to move to new packages is to allow both Jackson 
      1.x and Jackson 2.x versions to be used concurrently. While smaller 
      projects will find it easier to just convert wholesale, many bigger 
      systems and (especially) frameworks will find ability to do incremental 
      upgrades useful. Without repackaging one would have to upgrade in 
      &quot;all-or-nothing&quot; way. But with repackaging this can be avoided, and 
      existing functionality converted gradually (within some limits; 
      transitive dependencies may still be problematic).
    </p>
    <p>
      <b>2. But wait! It is totally worth it!</b>
    </p>
    <p>
      I started with the &quot;bad news&quot; first, to get that out of the way, since 
      there is lots to like about the new version.<br>I will write more 
      detailed articles on specific features later on, but let's start with a 
      brief overview.
    </p>
    <p>
      <b>2.1 Community improvements: Better collaboration with GitHub</b>
    </p>
    <p>
      First big change is that Jackson project as a whole has moved to <a href="https://github.com/FasterXML">Github</a>. 
      While many extension projects (modules) had already started there, now 
      all core components have moved as well:
    </p>
    <ul>
      <li>
        <a href="https://github.com/FasterXML/jackson-core">Core streaming</a> 
        components (JsonParser, JsonGenerator)
      </li>
      <li>
        <a href="https://github.com/FasterXML/jackson-annotations">Core 
        Annotations</a>
      </li>
      <li>
        <a href="https://github.com/FasterXML/jackson-databind">Databinding</a> 
        (POJO databinding, tree model)
      </li>
    </ul>
    <p>
      as well as standard extension components such as:
    </p>
    <ul>
      <li>
        <a href="https://github.com/FasterXML/jackson-dataformat-smile">Smile 
        data format</a> (and <a href="https://github.com/FasterXML/jackson-dataformat-xml">XML</a>, 
        <a href="https://github.com/FasterXML/jackson-dataformat-csv">CSV</a>!)
      </li>
      <li>
        <a href="https://github.com/FasterXML/jackson-module-mrbean">Mr Bean</a> 
        module (POJO class generation from interfaces, abstract classes)
      </li>
      <li>
        <a href="https://github.com/FasterXML/jackson-module-jaxb-annotations">JAXB 
        annotation support</a>
      </li>
    </ul>
    <p>
      and many, many more (total project count is 17!)
    </p>
    <p>
      This should help make it much easier to contribute to projects; as well 
      as make it easier for packages to evolve at appropriate pace: there is 
      less need to synchronize &quot;big&quot; releases outside of 3 core packages, and 
      it is much easier to give scoped access to new contributors.
    </p>
    <p>
      <b>2.2 Feature: Handle Any Object Graphs, even Cyclic ones!</b>
    </p>
    <p>
      One of biggest so far unsupported use case been ability to handle 
      serialization and deserialization of cyclic graphs, and elimination of 
      duplicates due to shared references. Although existing <i>@JsonManagedReference</i> 
      annotation works for some cases (esp. many ORM-induced parent/child 
      cases), there has been no general solution.
    </p>
    <p>
      But now there is. Jackson 2.0 adds support for concept called &quot;<a href="http://wiki.fasterxml.com/JacksonFeatureObjectIdentity">Object 
      Identity</a>&quot;:ability to serialize Object Id for values, use this id for 
      secondary references; and ability to resolve these references when 
      deserializing). This feature has many similarities to &quot;Polymorphic Type 
      information&quot; handling which was introduced in Jackson 1.5.
    </p>
    <p>
      Although full explanation of how things work deserves its own article, 
      the basic idea is simple: you will need to annotate classes with new 
      annotation <b>@JsonIdentityInfo</b> (or, use it for properties that 
      reference type for which to add support), similar to how @JsonTypeInfo 
      is used for including type id:
    </p>
    <hr>
    

    <pre>  @JsonIdentityInfo(generator=ObjectIdGenerators.IntSequenceGenerator.class, property=&quot;@id&quot;)
  public class Identifiable {
    public int value;

    public Identifiable next;
  }</pre>
    <p>
      and with such definition, you could serialize following cyclic two-node 
      graph:
    </p>
    <pre><br>


  Identifiable ob1 = new Identifiable();
  ob1.value = 13;
  Identifiable ob2 = new Identifiable();
  ob2.value = 42;
  // link as a cycle:
  ob1.next = ob2;
  ob2.next = ob1;

  // and serialize!
  String json = objectMapper.writeValueAsString(ob1);</pre>
    <p>
      to get JSON like:
    </p>
    <pre>  {
   &quot;@id&quot; : 1,
   &quot;value&quot; : 13,
   &quot;next&quot; : {
    &quot;@id&quot; : 2,
    &quot;value&quot; : 42,
    &quot;next&quot; : 1
   }
  }</pre>
    <p>
      and obvious deserialize it back with:
    </p>
    <pre>  Identifiable result = objectMapper.readValue(json, Identifiable.class);</pre>
    <p>
      assertSame(ob1.next.next, ob1);
    </p>
    <p>
      Most details (such as id generation algorithm used, property use for 
      inclusions etc) are configurable; more on this on a later article.<br>Until 
      then, <a href="https://github.com/FasterXML/jackson-annotations/wiki/Documentation">Javadocs</a> 
      should help.
    </p>
    <p>
      <b>2.3 Feature: Support &quot;Builder&quot; style of POJO construction</b>
    </p>
    <p>
      Another highly-requested feature has been ability to support POJOs 
      created using &quot;Builder&quot; style. This means that POJOs are created using a 
      separate Builder object which has methods for changing property values; 
      and a &quot;build&quot; method that will create actual immutable POJO instance. 
      For example, considering following hypothetical Builder class:
    </p>
    <hr>
    

    <pre> public class ValueBuilder {
  private int x, y;

  // can use @JsonCreator to use non-default ctor, inject values etc
  public ValueBuilder() { }

  // if name is &quot;withXxx&quot;, works as is: otherwise use @JsonProperty(&quot;x&quot;) or @JsonSetter(&quot;x&quot;)!
  public ValueBuilder withX(int x) {
    this.x = x;
    return this; // or, construct new instance, return that
  }
  public ValueBuilder withY(int y) {
    this.y = y;
    return this;
  }
  public Value build() {
    return new Value(x, y);
  }
}</pre>
    <p>
      and value class it creates:
    </p>
    <pre>@JsonDeserialize(builder=ValueBuilder.class) // important!
public class Value {
  private final int x, y;
  protected Value(int x, int y) {
    this.x = x;
    this.y = y;
  }
}</pre>
    <p>
      we would just use it as expected, as long annotations have been used as 
      shown above:
    </p>
    <pre>  Value v = objectMapper.readValue(json, Value.class);</pre>
    <p>
      and it &quot;just works&quot;
    </p>
    <p>
      <b>2.4 Ergonomics: Simpler, more powerful configuration</b>
    </p>
    <p>
      Although ObjectMapper's immutable friends -- <b><i>ObjectReader</i></b> 
      and <b><i>ObjectWriter</i></b> -- were introduced much earlier, 2.0 will 
      give more firepower for both, making them in many ways superior to use 
      of <i>ObjectMapper</i>. In fact, while you can still pass ObjectMappers 
      and create ObjectReaders, ObjectWriters on the fly, it is recommend that 
      you use latter if possible.
    </p>
    <p>
      So what was the problem solved? Basically, <u><i>ObjectMapper is 
      thread-safe if (and only if!) it is fully configured before its first use</i></u>. 
      This means that you can not (or, at least, not supposed) to try to 
      change its configuration once you have used it. To further complicate 
      things, some configuration options would work even if used after first 
      read or write, whereas others would not, or would only work in seemingly 
      arbitrary cases (depending on what was cached).
    </p>
    <p>
      On the other hand, ObjectReader and ObjectWriter are fully immutable and 
      thus thread-safe, but would also allow creation of newly configured 
      instances. But while this allowed handling of some cases -- such as that 
      of using different JSON View for deserialization -- number of methods 
      available for reconfiguration was limited.
    </p>
    <p>
      Jackson 2.0 adds significant number of new fluent methods for 
      ObjectReader and ObjectWriter to reconfigure things; and most notably, 
      it is now possible to change serialization and deserialization features (<i>SerializationFeature</i>, 
      <i>DeserializationFeature</i>, as noted earlier). So, to, say, serialize 
      a value using &quot;pretty printer&quot; you could use:
    </p>
    <pre>  ObjectWriter writer = ObjectMapper.writer(); // there are also many other convenience versions...
  writer.withDefaultPrettyPrinter().writeValue(resultFile, value);</pre>
    <p>
      or to enable &quot;root element&quot; wrapping AND specifying alternative wrapper 
      property name:
    </p>
    <pre>  String json = writer
    .with(SerializationFeature.WRAP_ROOT_VALUE)
    .withRootName(&quot;wrapper&quot;)
    .writeValueAsString(value);</pre>
    <p>
      basically, anything that can work on per-call basis will now work 
      through either ObjectReader (for deserialization) or ObjectWriter (for 
      serialization).
    </p>
    <p>
      <b>2.5 Feature parity: JSON Views for deserialization</b>
    </p>
    <p>
      One of frustrations with Jackson 1.x has been that all filtering 
      functionality has been limited to serialization side. Not any more: it 
      is now possible to use JSON Views for deserialization as well:
    </p>
    <pre>  Value v = mapper
   .reader(Value.class)
   .withView(MyView.class) 
   .readValue(json);</pre>
    <p>
      and if input happened to contain properties not included in the view, 
      values would be ignored without setting matching POJO properties.
    </p>
    <p>
      <b>2.6 Custom annotations using Annotation Bundles</b>
    </p>
    <p>
      Another ergonomic feature is so-called &quot;annotation bundles&quot;. Basically, 
      by addition of meta-annotation @JacksonAnnotationsInside, it is now 
      possible to specify that annotations from a given (custom) annotations 
      should be introspected and used same way as if annotations were directly 
      included. So, for example you could define following annotation:
    </p>
    <pre>  @Retention(RetentionPolicy.RUNTIME)
  @JacksonAnnotationsInside
  @JsonInclude(Include.NON_NULL) // only include non-null properties
  @JsonPropertyOrder({ &quot;id&quot;, &quot;name&quot; }) // ensure that 'id' and 'name' are always serialized before other properties
  private @interface StdAnnotations</pre>
    <p>
      and use it for POJO types as a short-hand:
    </p>
    <pre>  @StdAnnotations
  public class Pojo { ... }</pre>
    <p>
      instead of separately adding multiple annotations.
    </p>
    <p>
      <b>2.7 @JsonUnwrapped.prefix / suffix</b>
    </p>
    <p>
      One more cool new addition is for <i>@JsonUnwrapped</i> annotation 
      (introduced in 1.9). It is now possibly to define prefix and/or suffix 
      to use for &quot;unwrapped&quot; properties, like so:
    </p>
    <pre>  public class Box {
    @JsonUnwrapped(prefix=&quot;topLeft&quot;) Point tl;
    @JsonUnwrapped(prefix=&quot;bottomRight&quot;) Point br;
  }
  public class Point {
    int x, y;
  }</pre>
    <p>
      which would result in JSON like:
    </p>
    <pre>  {
   &quot;topLeft.x&quot; : 0,
   &quot;topLeft.y&quot; : 0,
   &quot;bottomRight.x&quot; : 100,
   &quot;bottomRight.y&quot; : 80  
  }</pre>
    <p>
      This feature basically allows for scoping things to avoid naming 
      collisions. It can also be used for fancier stuff, such as binding of 
      'flat' properties into hierarchic POJOs... but more on this in a 
      follow-up article.
    </p>
    <p>
      <b>3.0 And that's most of it, Folks!</b>
    </p>
    <p>
      At least for now. Stay tuned!
    </p>
    <p>
      <b>EDIT</b>:
    </p>
    <p>
      Links to the continuing &quot;Jackson 2.0 saga&quot;:
    </p>
    <ul>
      <li>
        <a href="http://www.cowtowncoder.com/blog/archives/2012/03/entry_467.html">XML 
        with Jackson 2.0</a>
      </li>
      <li>
        <a href="http://www.cowtowncoder.com/blog/archives/2012/03/entry_468.html">CSV 
        with Jackson 2.0</a>
      </li>
    </ul></p>

	<p class="entry-footer">
		<span class="post-footers">Posted by Tatu Saloranta  at Monday, March 26, 2012 10:19 PM </span>
<br />	Categories: <a href="http://www.cowtowncoder.com/blog/archives/cat_java.html">Java</a>, <a href="http://www.cowtowncoder.com/blog/archives/cat_json.html">JSON</a>
<br />
<span class="separator">|</span> <a class="permalink" href="http://www.cowtowncoder.com/blog/archives/2012/03/entry_466.html">Permalink</a>
<span class="separator">|</span><a href="http://www.cowtowncoder.com/blog/archives/2012/03/entry_466.html#disqus_thread">Comments</a>
<BlogItemBacklinksEnabled> | <a href="http://www.cowtowncoder.com/blog/archives/2012/03/entry_466.html#links">links to this post</a></BlogItleaemBacklinksEnabled> 

	</p>
		</div>
	</div>
</div>
   
            </div>
        </div>
        <div id="beta">
         	<div id="beta-inner" class="pkg">
<!-- sidebar -->


<!-- Search -->
<div class="module-search module">
<h2 class="module-header">Search</h2>
<hr />

<!-- SiteSearch Google -->

<style type="text/css">
@import url(http://www.google.com/cse/api/branding.css);
</style>
<div class="cse-branding-right" style="background-color:#FFFFFF;color:#000000">
  <div class="cse-branding-form">
    <form action="http://www.google.com/cse" id="cse-search-box">
      <div>
        <input type="hidden" name="cx" value="partner-pub-1467773697956887:yd8k3mcue4v" />
        <input type="hidden" name="ie" value="UTF-8" />
        <input type="text" name="q" size="24" />
        <input type="submit" name="sa" value="Search" />
      </div>
    </form>
  </div>
  <div class="cse-branding-logo">
    <img src="http://www.google.com/images/poweredby_transparent/poweredby_FFFFFF.gif" alt="Google" />
  </div>
  <div class="cse-branding-text">
    Custom Search
  </div>
</div>
<!-- /SiteSearch Google -->
</div>
<hr />
<div class="module-archives module">
  <h2 class="module-header">Last posts</h2>
  <div class="module-content">
    <ul class="module-list">
<li class="module-list-item"><a href="http://www.cowtowncoder.com/blog/archives/2012/03/entry_468.html">Jackson 2.0: CSV-compatible as well</a></li>
<li class="module-list-item"><a href="http://www.cowtowncoder.com/blog/archives/2012/03/entry_467.html">Jackson 2.0: now with XML, too!</a></li>
<li class="module-list-item"><a href="http://www.cowtowncoder.com/blog/archives/2012/03/entry_466.html">Jackson 2.0.0 released: going GitHub, handling cyclic graphs, builder style...</a></li>

    </ul>
  </div>
</div>

<!-- Google AdSense, medium one (200x200) -->
<script type="text/javascript">
google_ad_client = "pub-1467773697956887";
/* cowtown-blog-200x200-1 */
google_ad_slot = "3247601086";
google_ad_width = 200;
google_ad_height = 200;
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<!-- /Google AdSense -->
     
<div class="module-categories module">
  <h2 class="module-header">Categories</h2>
		<div class="module-content">
        <ul>
		
			<a href="http://www.cowtowncoder.com/blog/archives/cat_database.html">Database</a><br />
		
			<a href="http://www.cowtowncoder.com/blog/archives/cat_environment.html">Environment</a><br />
		
			<a href="http://www.cowtowncoder.com/blog/archives/cat_fooddrink.html">Food+Drink</a><br />
		
			<a href="http://www.cowtowncoder.com/blog/archives/cat_general.html">General</a><br />
		
			<a href="http://www.cowtowncoder.com/blog/archives/cat_java.html">Java</a><br />
		
			<a href="http://www.cowtowncoder.com/blog/archives/cat_json.html">JSON</a><br />
		
			<a href="http://www.cowtowncoder.com/blog/archives/cat_music.html">Music</a><br />
		
			<a href="http://www.cowtowncoder.com/blog/archives/cat_opensource.html">Open Source</a><br />
		
			<a href="http://www.cowtowncoder.com/blog/archives/cat_performance.html">Performance</a><br />
		
			<a href="http://www.cowtowncoder.com/blog/archives/cat_philosophic.html">Philosophic</a><br />
		
			<a href="http://www.cowtowncoder.com/blog/archives/cat_rant.html">Rant</a><br />
		
			<a href="http://www.cowtowncoder.com/blog/archives/cat_silly.html">Silly</a><br />
		
			<a href="http://www.cowtowncoder.com/blog/archives/cat_staxmate.html">StaxMate</a><br />
		
			<a href="http://www.cowtowncoder.com/blog/archives/cat_xmlstax.html">XML/Stax</a><br />
		
        </ul>
		</div>
	</div>
<div class="module-syndicate module">
	<div class="module-content">
		<a href="http://www.cowtowncoder.com/blog/rss.xml">Subscribe to this blog's feed</a><br />

		[<a href="http://help.blogger.com/bin/answer.py?answer=697">What is this?</a>]
	</div>

</div>

<div class="module-archives module">
          <h2 class="module-header">Archives</h2>
          <div class="module-content">
               <ul class="module-list">
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/08-01-2012_08-31-2012.html'>August 2012</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/05-01-2012_05-31-2012.html'>May 2012</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/04-01-2012_04-30-2012.html'>April 2012</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/03-01-2012_03-31-2012.html'>March 2012</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/12-01-2011_12-31-2011.html'>December 2011</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/10-01-2011_10-31-2011.html'>October 2011</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/09-01-2011_09-30-2011.html'>September 2011</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/08-01-2011_08-31-2011.html'>August 2011</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/07-01-2011_07-31-2011.html'>July 2011</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/05-01-2011_05-31-2011.html'>May 2011</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/04-01-2011_04-30-2011.html'>April 2011</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/03-01-2011_03-31-2011.html'>March 2011</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/02-01-2011_02-28-2011.html'>February 2011</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/01-01-2011_01-31-2011.html'>January 2011</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/12-01-2010_12-31-2010.html'>December 2010</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/11-01-2010_11-30-2010.html'>November 2010</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/10-01-2010_10-31-2010.html'>October 2010</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/09-01-2010_09-30-2010.html'>September 2010</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/08-01-2010_08-31-2010.html'>August 2010</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/07-01-2010_07-31-2010.html'>July 2010</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/06-01-2010_06-30-2010.html'>June 2010</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/05-01-2010_05-31-2010.html'>May 2010</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/04-01-2010_04-30-2010.html'>April 2010</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/03-01-2010_03-31-2010.html'>March 2010</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/02-01-2010_02-28-2010.html'>February 2010</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/01-01-2010_01-31-2010.html'>January 2010</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/12-01-2009_12-31-2009.html'>December 2009</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/11-01-2009_11-30-2009.html'>November 2009</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/10-01-2009_10-31-2009.html'>October 2009</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/09-01-2009_09-30-2009.html'>September 2009</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/08-01-2009_08-31-2009.html'>August 2009</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/07-01-2009_07-31-2009.html'>July 2009</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/06-01-2009_06-30-2009.html'>June 2009</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/05-01-2009_05-31-2009.html'>May 2009</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/04-01-2009_04-30-2009.html'>April 2009</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/03-01-2009_03-31-2009.html'>March 2009</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/02-01-2009_02-28-2009.html'>February 2009</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/01-01-2009_01-31-2009.html'>January 2009</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/12-01-2008_12-31-2008.html'>December 2008</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/11-01-2008_11-30-2008.html'>November 2008</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/10-01-2008_10-31-2008.html'>October 2008</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/09-01-2008_09-30-2008.html'>September 2008</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/08-01-2008_08-31-2008.html'>August 2008</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/07-01-2008_07-31-2008.html'>July 2008</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/06-01-2008_06-30-2008.html'>June 2008</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/05-01-2008_05-31-2008.html'>May 2008</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/04-01-2008_04-30-2008.html'>April 2008</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/03-01-2008_03-31-2008.html'>March 2008</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/02-01-2008_02-29-2008.html'>February 2008</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/12-01-2007_12-31-2007.html'>December 2007</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/11-01-2007_11-30-2007.html'>November 2007</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/10-01-2007_10-31-2007.html'>October 2007</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/09-01-2007_09-30-2007.html'>September 2007</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/08-01-2007_08-31-2007.html'>August 2007</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/07-01-2007_07-31-2007.html'>July 2007</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/06-01-2007_06-30-2007.html'>June 2007</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/05-01-2007_05-31-2007.html'>May 2007</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/04-01-2007_04-30-2007.html'>April 2007</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/02-01-2007_02-28-2007.html'>February 2007</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/01-01-2007_01-31-2007.html'>January 2007</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/11-01-2006_11-30-2006.html'>November 2006</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/10-01-2006_10-31-2006.html'>October 2006</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/09-01-2006_09-30-2006.html'>September 2006</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/08-01-2006_08-31-2006.html'>August 2006</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/07-01-2006_07-31-2006.html'>July 2006</a></li>
              
                <li class="module-list-item"><a href='http://www.cowtowncoder.com/blog/archives/06-01-2006_06-30-2006.html'>June 2006</a></li>
              
               </ul>
          </div>
</div>

<!-- Google AdSense, smallish one (120x240) -->
<script type="text/javascript">
google_ad_client = "pub-1467773697956887";
/* cowtown-blog-120x240-1 */
google_ad_slot = "0198703199";
google_ad_width = 120;
google_ad_height = 240;
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<!-- /Google AdSense -->
<hr />

<h2 class="module-header">Related Blogs</h2>
<div class="module-content">
(by Author (topics))
               <ul class="module-list">
<li class="module-list-item"><a href="http://netzooid.com/blog/">Dan D</a>
<br />(XFire, Mule)
</li>
<li class="module-list-item"><a href="http://jfarcand.wordpress.com/">Jean-Francois A</a><br /> (Ajax, Comet, Async HTTP)
</li>
<li class="module-list-item"><a href="http://jazzjuice.blogspot.com/">Josh C</a><br />(Judge Mental)
</li>
<li class="module-list-item"><a href="http://weblogs.java.net/blog/kohsuke/">Kohsuke K</a><br />(Relax NG, Sun MSV)
</li>
<li class="module-list-item"><a href="http://saxonica.blogharbor.com/">Michael K</a><br />(xslt, xquery)
</li>
<li class="module-list-item"><a href="http://mult.ifario.us/a">Paul B</a><br />(Haskell, RSS)
</li>
<li class="module-list-item"><a href="http://weblogs.java.net/blog/spericas/">Santiago P-G</a><br />(Glassfish, java.net, JAXP, Xalan)
</li>
               </ul>
          </div>
</div>
<div class="module-powered module">
	<h2 class="module-header">Powered By</h2>

	<div class="module-content"><!-- powered by -->
<a href="http://thingamablog.sourceforge.net/"><img
 alt="Powered by Thingamablog" src="http://thingamablog.sourceforge.net/images/powered.gif"></a>,
 <br /><a href="http://blogger-templates.blogspot.com">Blogger Templates</a>.
  </div>
</div>

<!-- Author desc -->
<div class="module-photo module">
     <div class="module-content"><img src="/picture_library/cowtowncoder.jpg"></div>
</div>
<div class="module-about module">
     <h2 class="module-header">About me</h2>
     <div class="module-content">
       <ul class="module-list">
         <li class="module-list-item">I am known as <strong>Cowtowncoder</strong></li>
         <li class="module-list-item">Contact me at<a href="mailto:cowtowncoder">@yahoo.com</a></li>
       </ul>
Check my <a href="/author-cowtowncoder.html">profile</a> to learn more.
     </div>
</div>

<!-- Discus comments -->
<script type="text/javascript">
//<![CDATA[
(function() {
	var links = document.getElementsByTagName('a');
	var query = '?';
	for(var i = 0; i < links.length; i++) {
	if(links[i].href.indexOf('#disqus_thread') >= 0) {
		query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&';
	}
	}
	document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/cowtalk/get_num_replies.js' + query + '"></' + 'script>');
})();
//]]>
</script>
<!-- GA -->
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-140287-10");
pageTracker._trackPageview();
} catch(err) {}</script>     
</body>
</html>
